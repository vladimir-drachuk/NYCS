<h2 class="title">NYCS Administation Panel</h2>

<mat-tab-group mat-align-tabs="center">
  <mat-tab>
    <ng-template mat-tab-label>
      <div class="icon"><mat-icon>date_range</mat-icon></div>
      <span>Regular</span>
    </ng-template>
    <div *ngIf="!(isScheduleLoading | async), else elseBlock" class="matches-wrapper">
      <app-admin-match *ngFor="let match of matches | async | divide: 'Regular'" [match]="match" [disabled]="isPlayoff | async"></app-admin-match>
    </div>
    <div class="buttons">
      <button mat-stroked-button color="primary" (click)="openEditSchedule()">Edit Schedule</button>
      <button mat-stroked-button color="primary" (click)="goToPlayoff()" 
              [disabled]="(matches | async | disabled: 'Regular') || (isPlayoff | async)">Go to Playoff</button>
    </div>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="arrow">arrow_right_alt</mat-icon>
      <div class="icon"><mat-icon>date_range</mat-icon></div>
      <span>Playoff</span>
    </ng-template>
    <div *ngIf="!(isScheduleLoading | async), else elseBlock" class="matches-wrapper">
      <app-admin-match *ngFor="let match of matches | async | divide: 'Playoff':'Semi-Finals':'white'" 
                       [match]="match" [disabled]="false">
      </app-admin-match>
      <app-admin-match *ngFor="let match of matches | async | divide: 'Playoff':'Semi-Finals':'black'" 
                       [match]="match" [disabled]="false">
      </app-admin-match>
      <app-admin-match *ngFor="let match of matches | async | divide: 'Playoff':'Finals':'white'" 
                       [match]="match" [disabled]="false">
      </app-admin-match>
      <app-admin-match *ngFor="let match of matches | async | divide: 'Playoff':'Finals':'black'" 
                       [match]="match" [disabled]="false">
      </app-admin-match>
    </div>
    <div class="buttons">
      <button mat-stroked-button color="primary" (click)="openEditSchedule()">Destroy Playoff</button>
      <button mat-stroked-button color="primary" (click)="openEditSchedule()">Go to Finals</button>
    </div>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="arrow">arrow_right_alt</mat-icon>
      <div class="icon"><mat-icon>date_range</mat-icon></div>
      <span>NYCS Final</span>
    </ng-template>
    <div *ngIf="!(isScheduleLoading | async), else elseBlock" class="matches-wrapper">
      <app-admin-match *ngFor="let match of matches | async | divide: 'NYCS'" 
                       [match]="match" [disabled]="false">
      </app-admin-match>
    </div>
  </mat-tab>
</mat-tab-group>

<ng-template #elseBlock>
    <div class="else-block">
        <mat-spinner></mat-spinner>
        <div>Loading your Schedule...</div>
    </div>
</ng-template>

